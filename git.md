# Работа с GIT

## 1. Проверка на наличие установленного GIT
В терминале выполнить команду `git version`

Если Git установлен, появиться сообщение с информацией о версии программы.
иначе будет сообщение об ошибке .

## 2. Установка GIT
Загружаем последнюю версию GIT с сайта https://git-scm.com/downloads. Устанавливаем с настройками по умолчанию.

## 3. Настройка GIT 
При первом использовании GIT необходимо представиться.
Для этого нужно выполнить в терминале две команды: 
```
git config --global user.name «Ваше имя английскими буквами»
git config --global user.email ваша почта@example.com
```
## 4. Создание GIT репозитория
Чтобы начать слежение за существующим проектом в терминале необходимо выполнить команду `git init`. Команда помогает следить за изменениями. В папке создается скрытая папка .git

## 5. Ключевые команды для работы с GIT
1. `git help` - получение справочной информации. 
2. `git status` - текущие состояние на наличие изменениий.
3. `git add` - добавление файла к отслеживанию.
4. `git commit` - сохранение всех изменений в базе данных. 
5. `git log` - журнал всех изменений, помогает увидеть количество сохранений.
6. `git checkout` - переключение между версиями сохранений.
7. `git diff` - показывает разницу между текущим и сохраненным файлом 

## 6. Работа с командой *git commit*
```
Danil@DESKTOP-1628OGP MINGW64 ~/Desktop/Git (master)
$ git commit -m "Добавили 5 раздел"
[master f602d88] Добавили 5 раздел
 1 file changed, 9 insertions(+)
 ```
 Команда `git commit` берёт все данные, добавленные в индекс с помощью `git add`, и сохраняет их во внутренней базе данных.
 Сообщение фиксации можно задать и в команде *commit*, поставив перед ним *-m*.

 ## 7. Работа с командой *git status*
 ```
 Danil@DESKTOP-1628OGP MINGW64 ~/Desktop/Git (master)
$ git status
On branch master
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   git.md

no changes added to commit (use "git add" and/or "git commit -a")
```
Основным инструментом определения состояния файлов является команда `git status`. Сообщение "changes not staged for commit" говорит о том, что изменения не подготовлены для фиксации (modified: git.md подсвечивается красным). Чтобы это исправить нужно воспользоваться командой `git add`.
```
Danil@DESKTOP-1628OGP MINGW64 ~/Desktop/Git (master)
$ git add git.md

Danil@DESKTOP-1628OGP MINGW64 ~/Desktop/Git (master)
$ git status
On branch master
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        modified:   git.md
```
## 8. Работа с командой *git log* 
```
Danil@DESKTOP-1628OGP MINGW64 ~/Desktop/Git (master)
$ git log
commit 2c2150ac71e3a5cc22b3b95b53bd7bae46ca5113 (HEAD -> master)
Author: danil <netrow@gmail.com>
Date:   Tue Dec 6 18:55:06 2022 +0500

    Добавлен раздел работа с командой git status
```
Команда `git log` показывает журнал изменений. С помощью данной команды можно код фиксации.  
```
commit 2c2150ac71e3a5cc22b3b95b53bd7bae46ca5113
```
## 9. Работа с командой *git checkout*
С помощью данной команды мы может перейти на другую версию. Для этого нужно знать первые семь символов кода фиксации. Чтобы перейти обратно на актуальную версию нужно использовать команду `git checkout master`
```
Danil@DESKTOP-1628OGP MINGW64 ~/Desktop/Git (master)
$ git checkout e8cae27
Note: switching to 'e8cae27'.

Danil@DESKTOP-1628OGP MINGW64 ~/Desktop/Git ((e8cae27...))
$ git checkout master
Previous HEAD position was e8cae27 Добавлен раздел работа с командой git log
Switched to branch 'master'
```
## 10. Работа с командой *git diff* 
Команда `git diff` без дополнительных параметров позволяет посмотреть, что было изменено, но пока не проиндексировано. Эта команда сравнивает содержимое в рабочей папке и в области индексирования.
```
+Danil@DESKTOP-1628OGP MINGW64 ~/Desktop/Git (master)
+$ git checkout e8cae27
+Note: switching to 'e8cae27'
```
Символ `(+)` указывает на добавление, символ `(-)` указывает на удаление. Также изменения подсвечиваются зеленым или красным цветом.

## 11. Работа с командой *git add*
Чтобы начать управление версиями существующих файлов нужно укажить файлы, за которыми должна следить система, для этого нужно выполнить фиксацию изменений с помощью команды `git add`. С помощью команды `git status` мы можем увидеть, отслеживает ли программа наши файлы или нет. Так же она сама подскажет, что нужно для этого сделать: 
```
Changes not staged for commit:
(use "git add <file>..." to update what will be committed)
(use "git restore <file>..." to discard changes in working directory)
        modified:   git.md

no changes added to commit (use "git add" and/or "git commit -a")
```
Это многоцелевая команда, позволяющая начать слежение за новыми файлами, произвести индексирование файлов, а также пометить файлы с конфликтом слияния. Важно, при работе с этой командой указывать имя папки.

После добавления измененого текста к отслеживанию и проверки с помощью `git status` мы можем заметить, что все файлы были готовы для фиксации:
```
Changes to be committed:
(use "git restore --staged <file>..." to unstage)
        modified:   git.md
```  
Необходимость отмены чаще всего возникает при слишком ранней фиксации изменений, когда вы забыли добавить в коммит какие-то файлы или ошиблись с сообщением фиксации. Для повторного сохранения версии в такой ситуации можно воспользоваться параметром `--amend`:
```
$ git commit –amend
```
Также для отмены индексирования следует воспользоваться командой `git reset HEAD <имя файла>`. Предположим, вы отредактировали два файла и хотели бы зафиксировать их в двух разных коммитах, но случайно набрали команду `git add`, что привелок их одновременному индексированию.
```
$ git status
On branch master
Changes to be committed:
(use "git reset HEAD <file>..." to unstage)
     renamed: README.md -> README
     modified: git.md
 ```

## 12. Работа с текстом Markdown
1. Жирный текст — **текст**
2. Курсивный текст — *текст* или _текст_
3. Зачеркнутый текст — ~~текст~~
4. Выделяют заголовки — # в начале строки
   ##### текст
5. Показать уровень заголовка 
подчеркивание знаками - или ****
---
6. Нумерованные Списки — обозначаются
обычными цифрами 1, 2, 3 
7. Ненумерованные Списки — обозначаются
* знаками в начале строки
8. Цвет текста `текст`
9. Для написания кода 
```
текст
```
10. Цитата

> текст

## 13. Работа с изображениями
При работе с изображениями чаще всего используют файл `.gitignore`. Это используется для того, чтобы убрать из отслеживания в репозитории определенные файлы или папки. Чтобы вставить изображение в текст нужно написать следующий код: 
```
![текст, если картинка не отобразиться](имя файла)
![GeekBrains](GB.png)
```
![GeekBrains](GB.png)
Для добавления изображения в `.gitignore` нужно сождать файл с таким же названием. В этот файл вписываем название изображения. В случае если файлов изображений много можно использовать шаблон `*.png` (точно также с другими форматами). Имена файлов изображений должны быть без пробела. 
Также можно добавить всю папку. Для этого нужно `/имя папки`

## 14. Создание ветвей 
Для создания ветвления нужно использовать команду `git branch имя файла`. Чтобы просто посмотреть список ветвления - `git branch`. Ветка `master` это основная ветка (чистовик). Символ `*` указывает на какой ветке мы находимся. 
Процесс работы с ветками заключается в создании самостоятельных коммитов (черновиков), которые не сязаны с основной веткой (master). 
```
Danil@DESKTOP-1628OGP MINGW64 ~/Desktop/Git (master)
$ git branch creation
```

## 15. Смена ветви 
Для смены ветвей используем комнаду `git checkout` только теперь указываем на название ветки. См. пункт 9. В левои нижнем углу программы VCS также сменилось название. 
```
Danil@DESKTOP-1628OGP MINGW64 ~/Desktop/Git (master)
$ git checkout creation
Switched to branch 'creation'
M       git.md
```
Для визуализации всех сущетсвующих веток можно воспользоваться командой: `git log --graph`

```
| * | commit 66c011c7db07398f418d31cb93dbceeb083f6039
| | | Author: danil <netrow@gmail.com>
| | | Date:   Thu Dec 8 00:57:46 2022 +0500
| | |
| | |     добавлена информация
| | |
| * | commit c2be85cd8ceab3c65c6fe4127ae5be1f8f0910be
:

*   commit 19922acf9f2a3d314b130fc7d7209608d626eadd (HEAD -> master)
|\  Merge: c2b1859 e55c848
| | Author: danil <netrow@gmail.com>
| | Date:   Sat Dec 10 17:48:45 2022 +0500
```

## 16. Слияние ветвей 
Для того чтобы выполнить слияние нужно воспользоваться командой `git merger`. Слияние происходит с *текущей* версией. После каждого изменения в одной из ветвей нужно выполнять команду `git commit`
9 +++++++++ - показывает сколько строк было добавлено.
```
Danil@DESKTOP-1628OGP MINGW64 ~/Desktop/Git (merger)
$ git checkout master
Switched to branch 'master'
```
```
Danil@DESKTOP-1628OGP MINGW64 ~/Desktop/Git (master)
$ git merge creation
Auto-merging git.md
Merge made by the 'ort' strategy.
 git.md | 9 +++++++++
 1 file changed, 9 insertions(+)
 ```

## 17. Разрешение конфликтов 
При слиянии двух веток может произойти конфликт. Он заключается в расхождении информации, разные изменения  на главной и вспомогательной ветки. Все, что относится к области конфликта слияния, помечено как неслитое (unmerged). Система Git добавляет к проблемным файлам стандартные метки, позволяющие открывать эти файлы вручную и разрешать конфликты. Об этом нам скажет система:  
```
Danil@DESKTOP-1628OGP MINGW64 ~/Desktop/Git (master)
$ git merge add
Auto-merging git.md
CONFLICT (content): Merge conflict in git.md
Automatic merge failed; fix conflicts and then commit the result.
``` 
После чего VSC предложит решение данного конфликта:

`Accept Current Change` - принятие текущей (*ветка master*) версии;

`Accept Incoming Change` - принятие пришедшей (*вспомогательной ветки*) версии;

`Accept Both Changes` - принять обе версии. 

## 18. Удаление ветвей
После слияния с основной веткой `(master)` можно удалить не нужные ветки с помощью команды `git branch -d имя ветки которую хотим удалить`. Код с припиской `-d` не позволит удалить ветку, которую не слили с основной. Если же эта ветка не нужна для сливания, можно воспользоваться кодом с припиской `-D`. 
```
Danil@DESKTOP-1628OGP MINGW64 ~/Desktop/Git (master)
$ git branch -d creation
Deleted branch creation (was a4dd464).
```

## 19. Работа с удаленными репозиториями
Для работы с удаленными репозиториями нужно воспользовться сайтом `GitHub` https://github.com. Для этого нужно пройти регистрацию и войти в аккаунт.

На странице `GitHub` нужно навести на значок `+` и выбрать `New repository`, после чего открывается страница где нужно указать имя репозитория и оставить его по умолчанию публичным, чтобы другие люди могли его видить и работать с ним. Далее создаем репозиторий. 

На следующей странице сайт дает подсказки как связать удаленный репозиторий с VSC. В начале выбираем/создаем папку где бы хотели создать новый локальный репозиторий. Также создаем на `GitHub` удаленный репозиторий. Для того чтобы связать локальный и удаленный репозитории нужно ввести в терминале VSC следующие команды: 

`Create a new repository on the command line` (создание локального репозитория и связывание с удаленным)

```
echo "# 1" >> README.md - создание файла
git init - инициализация репозитория
git add README.md - добавить файл в отслеживание
git commit -m "first commit" - фиксация изменения 
git branch -M main - изменение названия главной ветки на `main`
git remote add origin https://github.com/DanilDyatlov/1.git - связывание локального и удаленного репозитория 
git push -u origin main - отправка данных на удаленный репозиторий
```
Команда `git remote` связывает удаленный и локальный репозиторий. Для этого указываем ссылку на `GitHub`. Слово `origin` это название, его можно менять. Если к команде добавить `-v` то можно увидеть ссылку на `GitHub`. Также для отправки мы меняем название веток, так как в удаленном нет ветки *master* и будет выдавать ошибку. 

Команда `git push` отправляет данный на удаленный репозиторий. Также в терминале появиться надпись что все прошло успешно.

После обновления странице на `GitHub` мы увидим что появилась папка README.md. Связывание прошло успешно!

Для получения данных с удаленного репозитоия на локальный нужно использовать команду `git pull`. Команда используется при изменение документа на удаленном репозитории. После этого в терминале появляеся сообщение о успешном перемещении данных. При перемещении данных возможно появление конфликтов. *См. решение №17 Решение конфликтов*.

## 20 Работа с Pull requests
Для работы с чужим репозиторием нужно сделать сохрание его в профиль с помощью функции `Fork`. С помощью нее мы клонием чужой репозиторий к себе и можем работать со всеми его данными. Ссылку можно скопирвать во вкладке `Code`.

Для дальнейшей работы копируем ссылку на репозиторий, переходим в VSC, используя команду `git clone` и вставляем ссылку. Делать это нужно в корневой папке. После чего переходим в скопированный репозиторий и создаем дополнительную ветку. *См. работа с ветками*. `Всегда нужно работать на дополнительной ветке!`. Также можно просто работать с исходным файлом. 
```
$ git clone https://github.com/DanilDyatlov/SCV_Git_0812-20.git
Cloning into 'SCV_Git_0812-20'...
remote: Enumerating objects: 12, done.
remote: Counting objects: 100% (3/3), done.
remote: Total 12 (delta 2), reused 2 (delta 2), pack-reused 9
Receiving objects: 100% (12/12), done.
Resolving deltas: 100% (2/2), done.
```

После того как работа выполнена, нужно будет использовать `git push`. VSC дает подсказки как правильно использовать эту команду.

``` 
git push --set-upstream origin newgit
```

Затем перейти на сайт `GitHub` и выполнить pull requests. После проверки на ошибки отправить для ознакомления владельцу репозитория.

